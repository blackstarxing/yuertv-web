!function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="./",e(0)}({0:function(t,e,o){o(10),t.exports=o(5)},5:function(t,e){$(function(){function t(){r.attr("src","http://172.16.2.62:8777/checkCode?phone="+o.val()+"&rand="+new Date)}var e=$(".nickname"),o=$(".telnumber"),r=$(".pic-code img");$(".m-input input").blur(function(t){var e=$(t.currentTarget),r=e.parent().find(".error-tip");$(this).val()?$(this).hasClass("telnumber")?/^1([0-9]){10}$/.test(o.val())?r.hide():(r.show(),r.text("请输入正确号码"),setTimeout(function(){r.hide(),r.text("手机号码不能为空")},2e3)):$(this).hasClass("password")?$(".password").val().length>=6?r.hide():(r.show(),r.text("密码太短"),setTimeout(function(){r.hide(),r.text("密码不能为空")},2e3)):r.hide():(r.show(),$(this).hasClass("telnumber")&&setTimeout(function(){r.hide()},2e3))}),$(".m-input input").focus(function(t){var e=$(t.currentTarget),o=e.parent().find(".error-tip");o.hide()}),e.blur(function(t){var o=$(t.currentTarget),r=o.next(".error-tip");if(e.val())if(/^[a-zA-Z0-9_]{2,16}$/.test(e.val())){accoutTip=!0,r.hide();var i={};i.nickname=e.val(),$.ajax({url:"http://localhost:30000/api/isNicknameExist",data:i,type:"post",dataType:"json",success:function(t){0==t.object||(r.show(),r.text("昵称已被占用"))},error:function(){alert("通讯服务器错误")}})}else r.show(),r.text("您的昵称不符合规范")}),$(".getCode").click(function(e){var r=$(e.currentTarget),i=r.next(".error-tip");if(o.val())if(/^1([0-9]){10}$/.test(o.val())){var n={};n.mobile=o.val(),$.ajax({url:"http://localhost:30000/api/isMobileExist",data:n,type:"post",dataType:"json",success:function(e){0==e.object?($(".code-wrap input").val(""),$(".m-mask").show(),t()):(i.show(),i.text("手机号已被注册"),setTimeout(function(){i.hide(),i.text("手机号码不能为空")},2e3))},error:function(){alert("通讯服务器错误")}})}else i.show(),i.text("请输入正确号码"),setTimeout(function(){i.hide(),i.text("手机号码不能为空")},2e3);else i.show(),setTimeout(function(){i.hide()},2e3)}),$(".pic-code a").click(function(e){e.preventDefault(),t()}),$(".confirm").click(function(t){t.preventDefault();var e=$(".code-wrap .error-tip"),r={};r.mobile=o.val(),r.imgCheckCode=$(".code-wrap input").val(),$.ajax({url:"http://localhost:30000/api/sendSMSCode",data:r,type:"post",dataType:"json",success:function(t){function o(t){r>0?($(".m-tel .error-tip").text(r+"(s)"),r--):$(".m-tel .error-tip").hide().text("手机号码不能为空"),setTimeout(function(){o(t)},1e3)}if(0==t.code){$(".m-mask").hide();var r=59;$(".m-tel .error-tip").text(r+"(s)").show(),o(r)}else e.show(),setTimeout(function(){e.hide()},2e3)},error:function(){alert("通讯服务器错误")}})}),$(".cancel").click(function(t){t.preventDefault(),$(".m-mask").hide()}),$(".u-reg-btn").click(function(t){t.preventDefault();var e=!0;if($(".password").val()!=$(".repassword").val()&&$(".password").val()&&$(".repassword").val()?(e=!1,$(".repassword").next(".error-tip").text("密码不一致").show()):$(".repassword").val()?$(".password").val().length<6&&(e=!1,$(".password").next(".error-tip").text("密码太短")):(e=!1,$(".repassword").next(".error-tip").text("密码不能为空")),$(".m-regform input").each(function(){$(this).val()||($(this).parent().find(".error-tip").show(),e=!1)}),e){var r={};r.nickname=$(".nickname").val(),r.mobile=o.val(),r.checkCode=$(".code").val(),r.password=$(".password").val(),$.ajax({url:"http://localhost:30000/api/register",data:r,type:"post",dataType:"json",success:function(t){function e(t){o<0?window.location="/":($(".jump-index").text("("+o+"s) 回到首页"),o--),setTimeout(function(){e(t)},1e3)}if(0==t.code){$(".m-mask").show(),$(".code-wrap").hide(),$(".reg-success").show();var o=3;e(o)}else $(".code").next(".error-tip").text("验证码错误").show(),setTimeout(function(){$(".code").next(".error-tip").hide().text("验证码不能为空")},2e3)},error:function(){alert("通讯服务器错误")}})}})})},10:function(t,e){}});